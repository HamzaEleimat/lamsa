# ====================================================================
# BeautyCort API Environment Configuration
# ====================================================================
# This file contains all environment variables needed for the API
# Copy this file to .env and set your actual values
# NEVER commit .env files to version control!

# ====================================================================
# REQUIRED CONFIGURATIONS (Must be set for basic functionality)
# ====================================================================

# Server Configuration
PORT=3000
NODE_ENV=development

# JWT Authentication (CRITICAL - MUST BE SECURE IN PRODUCTION)
# Generate a secure secret: openssl rand -hex 64
# Minimum 32 characters required, 64+ recommended for production
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_64_CHARACTER_SECRET_IN_PRODUCTION
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_EXPIRES_IN=30d

# Supabase Database Configuration
# Get these from your Supabase project: Settings > API
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here

# ⚠️  CRITICAL SECURITY WARNING:
# Service key has admin privileges - NEVER expose or commit!
SUPABASE_SERVICE_KEY=your_supabase_service_key_here

# ====================================================================
# PERFORMANCE & CACHING (Recommended for production)
# ====================================================================

# Redis Cache Configuration (improves performance significantly)
# Leave blank to use in-memory caching (development only)
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
CACHE_TTL=300

# ====================================================================
# JORDAN-SPECIFIC INTEGRATIONS (Required for full functionality)
# ====================================================================

# Tap Payment Gateway (Jordan's primary payment processor)
# Register at: https://www.tap.company/jo/
TAP_SECRET_KEY=sk_test_your_secret_key_here
TAP_PUBLIC_KEY=pk_test_your_public_key_here

# SMS Service (for OTP verification)
# Twilio is recommended for international support
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ====================================================================
# MOBILE APP INTEGRATIONS (Required for mobile notifications)
# ====================================================================

# Expo Push Notifications
# Get from: https://expo.dev/accounts/[username]/projects/[project]/credentials
EXPO_PUSH_TOKEN=your_expo_push_token_here

# ====================================================================
# OPTIONAL CONFIGURATIONS (Enhanced functionality)
# ====================================================================

# Email Service (for reports, notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password

# File Storage (AWS S3 for production file uploads)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=beautycort-uploads

# Google Maps API (for location services)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key

# Analytics & Monitoring
ANALYTICS_ENABLED=true
LOG_LEVEL=info

# ====================================================================
# APPLICATION DEFAULTS (Jordan market specific)
# ====================================================================

# Business Configuration
DEFAULT_CURRENCY=JOD
DEFAULT_LANGUAGE=ar
DEFAULT_TIMEZONE=Asia/Amman
VAT_RATE=0.15

# Business Hours (24-hour format)
DEFAULT_OPEN_TIME=09:00
DEFAULT_CLOSE_TIME=21:00

# ====================================================================
# SECURITY CONFIGURATIONS
# ====================================================================

# CORS Origins (comma-separated URLs)
CORS_ORIGINS=http://localhost:3000,https://beautycort.vercel.app

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session Security
SESSION_SECRET=another_secure_secret_different_from_jwt
COOKIE_SECURE=false
COOKIE_SAME_SITE=lax

# ====================================================================
# DEVELOPMENT & TESTING
# ====================================================================

# Enable detailed logging in development
DEBUG=beautycort:*

# Test configurations
TEST_DATABASE_URL=
TEST_JWT_SECRET=test_secret_for_development_only

# ====================================================================
# PRODUCTION CHECKLIST
# ====================================================================
# Before deploying to production, ensure:
# ✅ JWT_SECRET is 64+ characters and cryptographically secure
# ✅ All database credentials are set correctly
# ✅ Redis is configured for performance
# ✅ Payment gateway credentials are valid
# ✅ SMS service is configured and tested
# ✅ CORS_ORIGINS includes your production domain
# ✅ NODE_ENV=production
# ✅ All secrets are stored in secure environment variables
# ✅ File permissions are set to 600 for .env files
