# Lamsa Production Environment Variables Template
# Copy this file to .env.production and fill in the actual values

# ===== SUPABASE PRODUCTION CREDENTIALS =====
# Get these from your Supabase production project dashboard
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your_production_anon_key_here
SUPABASE_SERVICE_KEY=your_production_service_key_here
DATABASE_URL=postgresql://postgres:password@db.your-project-id.supabase.co:5432/postgres

# ===== CORE APPLICATION SETTINGS =====
NODE_ENV=production
PORT=3000
APP_NAME=Lamsa
APP_VERSION=1.0.0
DEFAULT_LANGUAGE=ar
CURRENCY=JOD
TIMEZONE=Asia/Amman

# ===== SECURITY CONFIGURATION =====
# Generate with: openssl rand -hex 32
JWT_SECRET=your_production_jwt_secret_64_characters_minimum_required_here
JWT_EXPIRES_IN=15m
REFRESH_TOKEN_EXPIRES_IN=7d
ENABLE_SESSION_ROTATION=true
MAX_CONCURRENT_SESSIONS=5

# ===== REDIS CONFIGURATION =====
# Set up production Redis cluster (AWS ElastiCache/Azure Cache/GCP Memorystore)
REDIS_URL=redis://your-production-redis-cluster:6379
REDIS_PASSWORD=your_production_redis_password
REDIS_DB=0
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000

# ===== PAYMENT GATEWAY (TAP) =====
# Get from https://www.tap.company/jo/en/
TAP_SECRET_KEY=sk_live_your_tap_secret_key_here
TAP_PUBLIC_KEY=pk_live_your_tap_public_key_here
TAP_API_URL=https://api.tap.company/v2
TAP_WEBHOOK_SECRET=your_tap_webhook_secret

# ===== SMS PROVIDER (TWILIO) =====
# Get from https://www.twilio.com/
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+962700000000
TWILIO_VERIFY_SERVICE_SID=your_twilio_verify_service_sid

# ===== PUSH NOTIFICATIONS =====
# Get from Expo dashboard
EXPO_PUSH_TOKEN=your_expo_push_token_here
FIREBASE_SERVICE_ACCOUNT=/path/to/firebase-service-account.json

# ===== MONITORING & OBSERVABILITY =====
# New Relic APM
NEW_RELIC_LICENSE_KEY=your_newrelic_license_key
NEW_RELIC_APP_NAME=Lamsa-API-Production
ENABLE_NEWRELIC=true

# Sentry Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=lamsa@1.0.0

# Performance Monitoring
ENABLE_PROMETHEUS=true
PROMETHEUS_PORT=9090
ENABLE_PERFORMANCE_MONITORING=true

# ===== ALERTING =====
# Slack Webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/xxx/xxx
SLACK_CHANNEL_CRITICAL=#alerts-critical
SLACK_CHANNEL_WARNINGS=#alerts-warnings

# Email Alerts (SendGrid)
SENDGRID_API_KEY=your_sendgrid_api_key
ALERT_FROM_EMAIL=alerts@lamsa.com
CRITICAL_ALERT_EMAILS=admin@lamsa.com,devops@lamsa.com

# PagerDuty
PAGERDUTY_SERVICE_KEY=your_pagerduty_service_key
ENABLE_PAGERDUTY=true

# ===== SECURITY SETTINGS =====
# Rate Limiting
ENABLE_RATE_LIMITING=true
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100
SKIP_RATE_LIMIT=false

# CORS Configuration
CORS_ORIGIN=https://lamsa.com,https://app.lamsa.com,https://admin.lamsa.com
CORS_CREDENTIALS=true

# Security Headers
ENABLE_HELMET=true
HSTS_MAX_AGE=31536000

# ===== BACKUP CONFIGURATION =====
BACKUP_PROVIDER=aws
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=true
BACKUP_ENCRYPTION_KEY=your_32_byte_hex_encoded_backup_encryption_key

# AWS S3 for Backups
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=eu-central-1
AWS_BACKUP_BUCKET=lamsa-prod-backups

# ===== LOGGING =====
LOG_LEVEL=warn
ENABLE_MORGAN_LOGGING=true
ENABLE_DETAILED_LOGGING=false
ENABLE_ELASTICSEARCH=true
ENABLE_CLOUDWATCH=true

# ===== CDN & ASSETS =====
CDN_URL=https://cdn.lamsa.com
STATIC_ASSETS_URL=https://assets.lamsa.com
ENABLE_CDN=true

# ===== HEALTH CHECK =====
HEALTH_CHECK_URL=https://api.lamsa.com
HEALTH_CHECK_TIMEOUT=5000
ENABLE_DETAILED_HEALTH=false

# ===== FEATURE FLAGS =====
ENABLE_SWAGGER=false
ENABLE_WEBSOCKETS=true
ENABLE_CACHING=true
ENABLE_COMPRESSION=true
ENABLE_DEBUG=false
ENABLE_MOCK_PAYMENTS=false
ENABLE_MOCK_SMS=false

# ===== DEPLOYMENT SETTINGS =====
DEPLOYMENT_PLATFORM=aws
CLUSTER_NAME=lamsa-prod
NAMESPACE=production
MIN_REPLICAS=2
MAX_REPLICAS=10
TARGET_CPU_UTILIZATION=70